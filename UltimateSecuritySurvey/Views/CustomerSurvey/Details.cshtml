@model UltimateSecuritySurvey.Models.CustomerSurvey

@{
    ViewBag.Title = "Customer Survey details";
    ViewBag.PageHeader = "Customer Survey details";
}

    <div class="display-label">
        <h5>@Html.DisplayNameFor(model => model.customerSurveyTitle)</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.customerSurveyTitle)
    </div>
    
    <div class="display-label">
         <h5>@Html.DisplayNameFor(model => model.Customer.companyName)</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.Customer.companyName)
    </div>

    <div class="display-label">
         <h5>Base survey</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.GenericSurvey.title)
    </div>
    <div class="display-label">
         <h5>@Html.DisplayNameFor(model => model.startDate)</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.startDate)
    </div>

    <div class="display-label">
         <h5>@Html.DisplayNameFor(model => model.startComment)</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.startComment)
    </div>

    <div class="display-label">
        <h5>Observer</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.UserAccount.firstName)
        @Html.DisplayFor(model => model.UserAccount.lastName)
    </div>

    <div class="display-label">
        <h5>Supervisor</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.UserAccount1.firstName)
        @Html.DisplayFor(model => model.UserAccount1.lastName)
    </div>

    <div class="display-label">
         <h5>@Html.DisplayNameFor(model => model.endDate)</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.endDate)
    </div>

    <div class="display-label">
         <h5>@Html.DisplayNameFor(model => model.endComment)</h5>
    </div>
    <div class="display-field">
        @Html.DisplayFor(model => model.endComment)
    </div>

<ul class="button-group round">
@if (User.IsInRole("Teacher"))
{
    <li>@Html.ActionLink("Edit", "Edit", new {  id=Model.surveyId }, new { @class = "tiny button secondary"})</li>
}
@if (User.Identity.Name == Model.UserAccount.userName || User.Identity.Name == Model.UserAccount1.userName)
{
    <li>@Html.ActionLink("Survey Report", "Index", "SurveyReport", new {  id=Model.surveyId }, 
                    new { @class = "tiny button secondary"})</li>
}
       
    <li>@Html.ActionLink("Back to List", "Index", null, new { @class = "tiny button secondary"})</li>
</ul>

@section Sidebar{
    <div class="panel">
        <h5>Status</h5>
        <table>
            <tr>
                <td>Answered questions</td>
                <th class="ColumnWidth-28">@ViewBag.AnsweredQuestions</th>
            </tr>
            <tr>
                <td>Average observer status</td>
                <th>@ViewBag.AverageObserverStatus</th>
            </tr>
        </table>

        <h6>Survey progress</h6>
        <div class="progress large-12 success round">
            <span class="meter" style="width: @ViewBag.SurveyProgress"></span>
        </div>
    </div>
}
